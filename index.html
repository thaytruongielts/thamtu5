<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√≤ Ch∆°i Th√°m T·ª≠ T·ª´ V·ª±ng L·ªõp 5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
        }
        .game-container {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 2.5rem;
            width: 100%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10;
        }
        .game-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1rem;
            text-align: center;
        }
        .game-status {
            font-size: 1.25rem;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        .detective-container {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            min-height: 150px;
            margin-bottom: 2rem;
        }
        .detective-image {
            width: 150px;
            height: auto;
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            animation: appear 1s ease-in-out;
            z-index: 50;
        }
        .crime-image {
            width: 100px;
            height: auto;
            position: absolute;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 40;
            display: none;
        }
        @keyframes appear {
            from { opacity: 0; transform: scale(0.5) translateX(-50%); }
            to { opacity: 1; transform: scale(1) translateX(-50%); }
        }
        @keyframes escape {
            from { bottom: 0; left: 50%; opacity: 1; transform: translateX(-50%); }
            to { bottom: 300px; left: 150%; opacity: 0; transform: translateX(-50%); }
        }
        .word-display {
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: 5px;
            color: #2d3748;
            margin-bottom: 1rem;
        }
        .clue-box {
            background-color: #f7fafc;
            border: 2px solid #e2e8f0;
            padding: 1.5rem;
            border-radius: 1rem;
            width: 100%;
            text-align: center;
        }
        .clue-text {
            font-size: 1.25rem;
            font-style: italic;
            color: #2d3748;
        }
        .word-input-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin-top: 1.5rem;
            width: 100%;
        }
        .word-input {
            width: 100%;
            max-width: 500px;
            padding: 0.75rem;
            border: 2px solid #cbd5e0;
            border-radius: 9999px;
            font-size: 1rem;
            text-align: center;
            text-transform: uppercase;
        }
        .word-input:focus {
            outline: none;
            border-color: #63b3ed;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
        }
        .button {
            padding: 0.8rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .button:hover:enabled {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .guess-button {
            background-color: #2563eb;
            color: white;
        }
        .end-game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-top: 2rem;
        }
        .win-message {
            font-size: 2rem;
            font-weight: 700;
            color: #48bb78;
            margin-bottom: 1rem;
        }
        .lose-message {
            font-size: 2rem;
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 1rem;
        }
        .medal-image {
            width: 150px;
            height: auto;
            margin-top: 2rem;
            animation: pop-in 1s ease-in-out;
        }
        @keyframes pop-in {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="game-title">üïµÔ∏è‚Äç‚ôÇÔ∏è Th√°m T·ª≠ T·ª´ V·ª±ng</h1>
        <p id="game-status" class="game-status">V·ª• √°n: 1/10. Ti·ªÅn th∆∞·ªüng: $0</p>
        
        <div class="detective-container">
            <img src="https://placehold.co/150x200/4a5568/FFFFFF?text=Detective" alt="H√¨nh ·∫£nh th√°m t·ª≠" class="detective-image">
            <img src="https://placehold.co/100x100/dc2626/FFFFFF?text=Crime" alt="H√¨nh ·∫£nh t·ªôi ph·∫°m" class="crime-image">
        </div>

        <p id="word-display" class="word-display">_ _ _ _ _</p>

        <div class="clue-box">
            <p class="font-bold text-lg mb-2">G·ª£i √Ω:</p>
            <p id="clue-text" class="clue-text">B·∫°n ƒë√£ s·∫µn s√†ng ch∆∞a?</p>
            <button id="next-hint-button" class="button guess-button mt-4 hidden">G·ª£i √Ω ti·∫øp theo (-$30)</button>
        </div>

        <div class="word-input-container">
            <input type="text" id="word-input" class="word-input" placeholder="Nh·∫≠p t·ª´ c·∫ßn ƒëo√°n..." autofocus>
            <button id="guess-button" class="button guess-button">ƒêo√°n</button>
        </div>
        
        <div id="end-game-container" class="end-game-container hidden">
            <h2 id="final-message" class="win-message"></h2>
            <p id="final-score" class="text-xl mt-2"></p>
            <img id="medal-image" src="https://placehold.co/150x150/f6ad55/FFFFFF?text=Medal" alt="Huy ch∆∞∆°ng chi·∫øn th·∫Øng" class="medal-image hidden">
            <button id="restart-button" class="button guess-button mt-4">Ch∆°i L·∫°i</button>
        </div>
    </div>
    
    <script>
        const words = [
            { word: "CHAIR", hints: ["N·ªôi th·∫•t", "L√†m b·∫±ng g·ªó", "D√πng ƒë·ªÉ ng·ªìi"] },
            { word: "TABLE", hints: ["N·ªôi th·∫•t", "C√≥ 4 ch√¢n", "D√πng ƒë·ªÉ ƒÉn c∆°m"] },
            { word: "BEDROOM", hints: ["M·ªôt ph√≤ng trong nh√†", "D√πng ƒë·ªÉ ng·ªß", "Th∆∞·ªùng c√≥ gi∆∞·ªùng"] },
            { word: "FAMILY", hints: ["C√≥ b·ªë, m·∫π, con c√°i", "N∆°i b·∫°n s·ªëng", "M·ªôt nh√≥m ng∆∞·ªùi th√¢n"] },
            { word: "SCHOOL", hints: ["N∆°i b·∫°n h·ªçc t·∫≠p", "C√≥ nhi·ªÅu gi√°o vi√™n v√† h·ªçc sinh", "C√≥ s√¢n ch∆°i"] },
            { word: "FRIEND", hints: ["Ng∆∞·ªùi b·∫°n th√≠ch ch∆°i c√πng", "Kh√¥ng ph·∫£i ng∆∞·ªùi th√¢n", "Lu√¥n gi√∫p ƒë·ª° b·∫°n"] },
            { word: "READING", hints: ["M·ªôt s·ªü th√≠ch", "C·∫ßn m·ªôt cu·ªën s√°ch", "B·∫°n l√†m ƒëi·ªÅu n√†y trong th∆∞ vi·ªán"] },
            { word: "TENNIS", hints: ["M·ªôt m√¥n th·ªÉ thao", "C·∫ßn v·ª£t v√† b√≥ng", "Ch∆°i tr√™n s√¢n c√≥ l∆∞·ªõi"] },
            { word: "BICYCLE", hints: ["M·ªôt ph∆∞∆°ng ti·ªán giao th√¥ng", "C√≥ hai b√°nh", "B·∫°n ph·∫£i ƒë·∫°p b·∫±ng ch√¢n"] },
            { word: "LIBRARY", hints: ["M·ªôt t√≤a nh√† c√¥ng c·ªông", "N∆°i c√≥ r·∫•t nhi·ªÅu s√°ch", "B·∫°n c·∫ßn gi·ªØ im l·∫∑ng ·ªü ƒë√¢y"]
        }];

        let currentWordIndex = 0;
        let score = 0;
        let currentHints = [];
        let hintIndex = 0;

        const gameStatusEl = document.getElementById('game-status');
        const wordDisplayEl = document.getElementById('word-display');
        const clueTextEl = document.getElementById('clue-text');
        const wordInputEl = document.getElementById('word-input');
        const guessButtonEl = document.getElementById('guess-button');
        const nextHintButtonEl = document.getElementById('next-hint-button');
        const detectiveImageEl = document.querySelector('.detective-image');
        const crimeImageEl = document.querySelector('.crime-image');
        const endContainerEl = document.getElementById('end-game-container');
        const finalMessageEl = document.getElementById('final-message');
        const finalScoreEl = document.getElementById('final-score');
        const medalImageEl = document.getElementById('medal-image');
        const restartButtonEl = document.getElementById('restart-button');

        function initGame() {
            currentWordIndex = 0;
            score = 0;
            detectiveImageEl.style.display = 'block';
            endContainerEl.classList.add('hidden');
            wordInputEl.classList.remove('hidden');
            guessButtonEl.classList.remove('hidden');
            nextHintButtonEl.classList.add('hidden');
            showNextWord();
        }

        function showNextWord() {
            if (currentWordIndex >= words.length) {
                endGame(true);
                return;
            }
            
            const currentWord = words[currentWordIndex];
            wordDisplayEl.textContent = "_ ".repeat(currentWord.word.length);
            currentHints = currentWord.hints;
            hintIndex = 0;
            clueTextEl.textContent = currentHints[hintIndex];
            wordInputEl.value = '';
            wordInputEl.focus();
            gameStatusEl.textContent = `V·ª• √°n: ${currentWordIndex + 1}/${words.length}. Ti·ªÅn th∆∞·ªüng: $${score}`;
            nextHintButtonEl.classList.remove('hidden');
            updateHintButton();
        }

        function handleGuess() {
            const userGuess = wordInputEl.value.toUpperCase().trim();
            const currentWord = words[currentWordIndex].word.toUpperCase();

            if (userGuess === currentWord) {
                score += 100;
                showMessageBox('Ch√≠nh x√°c! B·∫°n nh·∫≠n ƒë∆∞·ª£c $100!', 'success');
                wordDisplayEl.textContent = currentWord;
                currentWordIndex++;
                setTimeout(showNextWord, 2000);
            } else {
                score -= 30;
                if (score < 0) {
                    endGame(false);
                } else {
                    crimeImageEl.style.display = 'block';
                    crimeImageEl.style.animation = 'escape 2s forwards';
                    showMessageBox('Sai r·ªìi! B·∫°n m·∫•t $30. T·ªôi ph·∫°m ƒë√£ ch·∫°y m·∫•t!', 'error');
                    setTimeout(() => {
                        crimeImageEl.style.display = 'none';
                    }, 2000);
                    updateHintButton();
                }
            }
            gameStatusEl.textContent = `V·ª• √°n: ${currentWordIndex + 1}/${words.length}. Ti·ªÅn th∆∞·ªüng: $${score}`;
        }
        
        function updateHintButton() {
            hintIndex++;
            if (hintIndex < currentHints.length) {
                nextHintButtonEl.textContent = `G·ª£i √Ω ti·∫øp theo (-$30)`;
            } else {
                nextHintButtonEl.classList.add('hidden');
            }
        }
        
        function handleNextHint() {
            score -= 30;
            if (score < 0) {
                endGame(false);
            } else {
                clueTextEl.textContent = currentHints[hintIndex];
                hintIndex++;
                updateHintButton();
            }
            gameStatusEl.textContent = `V·ª• √°n: ${currentWordIndex + 1}/${words.length}. Ti·ªÅn th∆∞·ªüng: $${score}`;
        }

        function endGame(isWin) {
            wordInputEl.classList.add('hidden');
            guessButtonEl.classList.add('hidden');
            nextHintButtonEl.classList.add('hidden');
            detectiveImageEl.style.display = 'none';
            endContainerEl.classList.remove('hidden');

            if (isWin) {
                score += 500;
                finalMessageEl.textContent = "üéâ Ch√∫c m·ª´ng! B·∫°n ƒë√£ ph√° t·∫•t c·∫£ c√°c v·ª• √°n!";
                finalScoreEl.textContent = `B·∫°n nh·∫≠n ƒë∆∞·ª£c th√™m $500. T·ªïng ti·ªÅn th∆∞·ªüng: $${score}.`;
                finalMessageEl.classList.add('win-message');
                medalImageEl.classList.remove('hidden');
            } else {
                finalMessageEl.textContent = "Game Over!";
                finalScoreEl.textContent = `S·ªë ti·ªÅn c·ªßa b·∫°n ƒë√£ h·∫øt. H√£y th·ª≠ l·∫°i!`;
                finalMessageEl.classList.add('lose-message');
            }
        }

        function showMessageBox(message, type) {
            const messageBox = document.createElement('div');
            messageBox.className = 'message-box';
            
            const messageText = document.createElement('p');
            messageText.textContent = message;
            messageText.className = 'text-xl font-bold mb-4';
            messageBox.appendChild(messageText);

            document.body.appendChild(messageBox);
            setTimeout(() => {
                messageBox.remove();
            }, 1500);
        }
        
        guessButtonEl.addEventListener('click', handleGuess);
        nextHintButtonEl.addEventListener('click', handleNextHint);
        wordInputEl.addEventListener('keyup', (event) => {
            if (event.key === 'Enter') {
                handleGuess();
            }
        });
        restartButtonEl.addEventListener('click', initGame);

        initGame();
    </script>
</body>
</html>